function updateAddress(e){formDataObj.address=e}function updateRoomsNumber(e){formDataObj.rooms=parseInt(e)}function updateLivingArrangement(e){formDataObj.arrangement=e,"roommates"==e?$("#roommates-div").show():$("#roommates-div").hide()}function updateRoommatesNumber(e){"roommates"==formDataObj.arrangement&&(formDataObj.roommates=parseInt(e))}function updateFloor(e){formDataObj.floor=parseInt(e)}function updateElevator(e){formDataObj.elevator=e}function updateRenovationLevel(e){formDataObj.renovationLevel=e}function updateApartmentSize(e){formDataObj.apartmentSize=e}function updateRoomSize(e){formDataObj.roomSize=e}function updateRoomParentUnit(e){formDataObj.roomParentUnit=e}function updateLivingRoomAC(e){formDataObj.airConditioning.livingroom=e}function updateBedRoomAC(e){formDataObj.airConditioning.bedroom=e}function updateRoomFurniture(e){formDataObj.roomFurniture=e}function updateApartmentFurniture(e){formDataObj.apartmentFurniture=e}function updateGarden(e){formDataObj.garden=e}function updateBalcony(e){formDataObj.balcony=e}function updateRefrigerator(e){formDataObj.electricalAppliances.refrigerator=e}function updateOven(e){formDataObj.electricalAppliances.oven=e}function updateLaundryMachine(e){formDataObj.electricalAppliances.laundryMachine=e}function processData(){var e={address:{"default":"",controlDivName:"address-div"},rooms:{"default":0,controlDivName:"rooms-div"},arrangement:{"default":"",controlDivName:"arrangement-div"},roommates:{"default":0,controlDivName:"roommates-div"},floor:{"default":"",controlDivName:"floor-div"},renovationLevel:{"default":"",controlDivName:"renovationLevel-div"},apartmentSize:{"default":"",controlDivName:"apartmentSize-div"},roomSize:{"default":"",controlDivName:"roomSize-div"},roomFurniture:{"default":"",controlDivName:"roomFurniture-div"},apartmentFurniture:{"default":"",controlDivName:"apartmentFurniture-div"}},o=!1;for(var r in e)if(fieldObj=e[r],formDataObj[r]==fieldObj.default){if("roommates"==r&&"roommates"!=formDataObj.arrangement){$("#"+fieldObj.controlDivName).removeClass("has-error");continue}$("#"+fieldObj.controlDivName).addClass("has-error"),o=!0}else $("#"+fieldObj.controlDivName).removeClass("has-error");if($("#finalPriceBox").hide(),$("#processingRequestMessageBox").hide(),$("#errorsMessageBox").hide(),$("#emptyFieldsMessageBox").hide(),o)return void $("#emptyFieldsMessageBox").show();if(processingRequest)$("#finalPriceBox").hide(),$("#processingRequestMessageBox").show();else{var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==a.readyState&&200==a.status){var e=JSON.parse(a.responseText);if(0==e.statusCode){var o=50;e.lowerBound=Math.floor(e.price/o)*o,e.upperBound=Math.ceil(e.price/o)*o,$("#priceFinal").text(e.lowerBound+(e.lowerBound<e.upperBound?" - "+e.upperBound:"")),$("#finalPriceBox").show()}else{var r="";for(var t in e.errors)r=r.concat("<br/>"),r=r.concat("שגיאה בשדה: ",e.errors[t].component),r=r.concat(", סיבת השגיאה: ",e.errors[t].status);console.log(r),$("#calculationErrors").html(r),$("#errorsMessageBox").show()}processingRequest=!1}},a.open("POST","/calculate",!0),a.setRequestHeader("Content-Type","application/json;charset=UTF-8"),processingRequest=!0,a.send(JSON.stringify(formDataObj))}}var formDataObj={address:"",rooms:0,arrangement:"",roommates:0,floor:0,elevator:!1,renovationLevel:"",apartmentSize:"",roomSize:"",roomParentUnit:!1,airConditioning:{bedroom:!1,livingroom:!1},electricalAppliances:{refrigerator:!1,laundryMachine:!1,oven:!1},roomFurniture:"",apartmentFurniture:"",garden:!1,balcony:!1},processingRequest=!1;